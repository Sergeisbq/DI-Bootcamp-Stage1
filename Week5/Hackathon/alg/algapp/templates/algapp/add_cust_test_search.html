{%extends 'algapp/base.html'%}

{%block content%}
<div class="rectangle3add"></div><h1 class="h1cadd">Please, type your full name, e-mail and choose the allergens from list below<br>to get the ability of using our service </h1>
    <form class="form_add_c" method="post"> 
        {%csrf_token%}
            {{form}}
        <button type="submit"> Create Profile </button>
    </form>

    
{%endblock content%}

{% block js_files %} 
<script>
    // Attach an event listener to the search input field
    document.getElementById('id_search_query').addEventListener('input', function() {
        // Get the search query value
        var searchQuery = this.value.toLowerCase();
  
        // Get all the allergen checkboxes
        var allergenCheckboxes = document.querySelectorAll('input[name="allergens"]');
  
        // Loop through each checkbox and toggle its visibility based on the search query
        allergenCheckboxes.forEach(function(checkbox) {
            var allergenName = checkbox.parentElement.textContent.toLowerCase();
            if (allergenName.includes(searchQuery)) {
                checkbox.parentElement.style.display = 'block';  // Show the checkbox's parent element
            } else {
                checkbox.parentElement.style.display = 'none';   // Hide the checkbox's parent element
            }
        });
    });
  </script>
  
{% endblock %}